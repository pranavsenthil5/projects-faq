<!DOCTYPE html>
<html>

<head>
        <link rel="stylesheet"
                href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        <script src="https://unpkg.com/lunr/lunr.js"></script>
        <script type="text/javascript" src="covid_faq_data.json"></script>
        
</head>

<body>
        <div class="center">
                <div class="example">
                        <input id="search-field" type="text" placeholder="Covid search" name="search">
                        <button type="submit" onclick="getDataFunc()"><i class="fa fa-search"></i></button>
                </div>
        </div>
        <ul class="search-results"></ul>
        <script>
                function printToConsole(data)
                {
                        console.log(data);
                }       

                function getData(url) {
                                const response = fetch(url);
                                return response.json();
                }
                function getDataFunc() 
                {
                        fetch('./covid_faq_data.json')
                                .then(response => {
                                        return response.json();
                                }).then(data => runLunr(data))
                                //.then(data => printToConsole(data));
                                // .then(data => console.log(data));
                        
                        // runLunr()
                        // text = document.getElementById("search-field").value;

                }

                function runLunr()
                {
                        var idx = lunr(function () {
                                this.ref('id');
                                this.field('questions');
                                this.field('answers');

                                documents.forEach(function (doc) {
                                        this.add(doc)
                                }, this)
                        })
                }
        </script>

</body>

</html>